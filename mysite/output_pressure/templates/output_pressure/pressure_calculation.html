<form method="post" id="outputPressureForm" data-materials-url="{% url 'ajax_load_materials' %}" data-groups-url="{% url 'ajax_load_groups' %}" novalidate>
    {% csrf_token %}
    <table>
        {{ form.as_table }}
    </table>
</form>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>

    function updateCalculatedValue() {
        var groupSelect = document.getElementById("id_group");
        var group_value = groupSelect.options[groupSelect.selectedIndex].text;

        var materialSelect = document.getElementById("id_material");
        var material_value = materialSelect.options[materialSelect.selectedIndex].text;

        document.getElementById("id_calculated_value").setAttribute('value', group_value + '  --  ' + material_value);
    }

    $("#id_group").change(function () {
      var url = $("#outputPressureForm").attr("data-materials-url");
      var groupId = $(this).val();

      $.ajax({
        url: url,
        data: {
          'group': groupId
        },
        success: function (data) {
          $("#id_material").html(data);

          updateCalculatedValue();
        }
      });

    });

    $("#id_material").change(function () {
      var url = $("#outputPressureForm").attr("data-groups-url");
      var cityId = $(this).val();

      $.ajax({
        url: url,
        data: {
          'material': cityId
        },
        success: function (data) {
          $("#id_group").html(data);

          updateCalculatedValue();
        }
      });
    });




  </script>
